amethyst Remove_Left_Recursion < Traverser_Clone2 {
	root =	Rule[ @name:name {autovar}:a @body=>Or[
							( Seq[ rec(name,a):r .*:rest {Seq[*([r]+rest)]}:next[]]
              | .:first[]
							)*
						]
            {Seq[Bind[a,Or[*first]],Many[Bind[a,Or[*next]]]]}
        	]
	
	rec(name,a) = Apply[&{@name==name} . {a}]
            | Bind[@name:n @expr=>rec(name,a):expr {Bind[n,expr]}]
}

amethyst Remove_Rigth_Recursion < Traverser_Clone2 {
}

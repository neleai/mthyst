amethyst Constant_Traverser < Traverser {
	root = {@@consts=@consts} traverse
	visit = Bind[ @expr=>traverse_item:expr {@expr=expr}  {@self} ]
				| Act[.* {@self}]
				| Local[ .* {@@consts[@self.ssaname] ? @@consts[@self.ssaname] : @self } ]
}

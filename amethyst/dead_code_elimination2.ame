amethyst Move_Assignments2 < Traverser {
	itrans=root	

	root=traverse 
	
	visit = Bind[@name:name traverse[.* @expr:expr @append:append {expr}=>move(append,name) ]]

	move(append,name) = Or[ move(append,name)*:ary {Or[{:ary=>ary}]} ]
								| Seq[ (:el (&eof {el}=>move(append,name) | {el}) )*:ary  {Seq[{:ary=>ary}]} ] 
								| Pass[@var:var @to=>move(append,name):to @enter:enter] @Pass
								| anything:{_Bind(name,it,append)}
}


